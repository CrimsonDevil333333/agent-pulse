# Agent-Pulse ğŸ¦ğŸ›°ï¸

**Agent-Pulse** is a high-fidelity, real-time "Mission Control" dashboard designed for headless AI agents. It bridges the gap between invisible backend processing and human-readable broadcasts by providing a live visual stream of an agent's internal logic, system vitals, and graphical renders.

---

## ğŸš€ Key Features

### ğŸ§  Live Logic Trace
Real-time streaming of agent thoughts and actions. Every decision made by the agent is broadcasted via **Server-Sent Events (SSE)**, ensuring low-latency updates without page refreshes.

### ğŸ–¼ï¸ Visual Pulse Buffer (Persistent Canvas)
A dedicated viewport for displaying screenshots, UI mockups, or data visualizations generated by agents. 
*   **Persistence**: The dashboard automatically remembers and reloads the last rendered image on refresh.
*   **Production Serving**: High-speed image streaming directly from the server's RAM disk.

### ğŸ“Š Real-Time System Telemetry
Live hardware vitals (CPU Load, Core Temperature, RAM usage) streamed directly from the host. 
*   **Universal Support**: Built-in compatibility for Raspberry Pi 5 (`vcgencmd`) with automated fallbacks for generic Linux distributions.

### ğŸ­ Aura Manager (Identity Engine)
A revolutionary way to manage AI personas and UI branding.
*   **Reactive Personalities**: Switch between modes (Standard, Expert Dev, Cyber Ninja, Deep Thinker) with a single click.
*   **Global Sync**: Swapping a persona instantly updates the dashboard theme and agent response signatures.
*   **State Persistence**: Your selected identity survives refreshes and server restarts.

---

## ğŸ› ï¸ Architecture: Under the Hood

### 1. The React Frontend
Built with **Next.js 16 (App Router)** and **Tailwind CSS**. It uses a "Hybrid Hydration" model:
*   **Hydration Phase**: On initial load, the app fetches historical logs, the last visual render, and the current aura state via standard REST APIs.
*   **Stream Phase**: Once hydrated, it opens an SSE connection to the `/api/pulse` stream for real-time reactive updates.

### 2. The SSE Bridge (Backend)
A high-performance Node.js stream controller handles incoming "Pulses" from any agent and broadcasts them to all connected clients. It manages:
*   **History Buffering**: Automatically saves the last 100 events to `pulse_history.json`.
*   **Visual State**: Maintains a pointer to the most recent canvas render in `last_visual.json`.

### 3. The Auto-Pulse Daemons
Two background services ensure the system stays alive and communicative:
*   **`pulse_daemon.sh`**: A "Global Monitor" that tails a system-level log file (`system_pulse.log`). Any string written to this log by *any* agent or script is automatically broadcasted to the dashboard.
*   **`vitals_daemon.sh`**: Scrapes hardware stats every 5 seconds and pulses them to the UI.

---

## ğŸ“¡ The Pulse Protocol (For Agents & People)

Agent-Pulse is **Agent-Agnostic**. Any scriptâ€”regardless of languageâ€”can communicate with the dashboard via simple HTTP POST requests to `http://localhost:8088/api/pulse`.

### A. Streaming a Thought (Log)
```bash
curl -X POST http://localhost:8088/api/pulse \
  -H "Content-Type: application/json" \
  -d '{
    "agent": "My-Bot",
    "action": "THINK",
    "message": "Analyzing the user request...",
    "type": "log"
  }'
```

### B. Updating the Canvas (Visual)
The agent must save the image to `/mnt/ramdisk/` (or the configured log directory) and then pulse the filename:
```bash
curl -X POST http://localhost:8088/api/pulse \
  -H "Content-Type: application/json" \
  -d '{
    "type": "visual",
    "payload": "latest_screenshot.png"
  }'
```

### C. Triggering an Identity Shift (Aura)
```bash
curl -X POST http://localhost:8088/api/pulse \
  -H "Content-Type: application/json" \
  -d '{
    "type": "aura",
    "payload": {
      "theme": "#ff3e00",
      "persona": "Expert Dev Node",
      "mood": "Focused"
    }
  }'
```

---

## ğŸ“¦ Setup & Deployment

1.  **Install Dependencies**:
    ```bash
    npm install
    ```
2.  **Build Production Bundle**:
    ```bash
    npm run build
    ```
3.  **Start Production Server**:
    ```bash
    npx next start -p 8088
    ```
4.  **Launch Background Daemons**:
    ```bash
    ./scripts/pulse_daemon.sh &
    ./scripts/vitals_daemon.sh &
    ```

---

## ğŸ›¡ï¸ License & Credits
**MIT License**. Conceptualized and built by **Satyaa** & **Clawdy**. Designed for the AI agent community. ğŸ¦ğŸ›°ï¸
